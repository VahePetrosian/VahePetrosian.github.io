<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script>
    "use strict";

    const newsApiKey = '46b315bb0b114a1499c1386739ae8d64';
    const newsApiUrl = 'https://newsapi.org/v1/'
    let requestHeaders = new Headers();
    requestHeaders.append("X-Api-Key", newsApiKey);

    let requestParametrs = {
      method: 'GET',
      headers: requestHeaders
    }

    let getArticleRequest = new Request(newsApiUrl + 'articles?source=bbc-news', requestParametrs);

    fetch(getArticleRequest).then(function (response) {
      return response.json();
    }).then(function (data) {
      let contentDiv = document.getElementById("contentDiv");
      let articles = data.articles.entries();
      console.log(articles);
      for (let article of articles) {
        contentDiv.innerHTML += GetNewsCart(article[0], article[1]);
      }
    });

    function GetNewsCart(index, article) {
      let val = `<div class="col-xl-3 col-lg-4 col-md-6 col-sm-12">
                  <div class="card mb-4">
                    <div class="card-header">Author: ${article.author}</div>
                    <img class="card-img-top" style="width: 100%; height: 15vw; object-fit: cover;" src="${article.urlToImage}" alt="Image">
                    <div class="card-body">
                      <h5 class="card-title">${article.title}</h5>
                      <hr>
                      <p class="card-text">${article.description}</p>
                      <a href="${article.url}" target="blank" class="justify-content-end">More details</a>         
                    </div>
                    <p class="card-text"><small class="text-muted">${article.publishedAt}</small></p>
                  </div>
                </div>`
      return val;
    }
  </script>
</head>
<body>
  <div class="container">
    <div class="card-deck" id='contentDiv'>
    </div>
  </div>
</body>
</html>